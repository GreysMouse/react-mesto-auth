{"version":3,"sources":["components/ProtectedRoute.js","components/AuthForm.js","components/Register.js","components/Login.js","components/Menu.js","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","images/image-empty.png","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/InfoToolTipPopup.js","utils/api.js","utils/authApi.js","components/App.js","index.js"],"names":["ProtectedRoute","props","children","AuthForm","className","header","onSubmit","noValidate","isButtonHidden","type","disabled","isLoading","buttonText","Register","React","useState","email","setEmail","password","setPassword","isValidEmail","setIsValidEmail","isValidPassword","setIsValidPassword","emailValdationMessage","setEmailValdationMessage","passwordValdationMessage","setPasswordValdationMessage","isFormInvalid","setIsFormInvalid","useEffect","evt","preventDefault","onRegister","value","onChange","target","valid","validity","validationMessage","placeholder","autoComplete","required","minLength","to","Login","isEmptyEmail","setIsEmptyEmail","isEmptyPassword","setIsEmptyPassword","handleLogin","Menu","mode","userInfo","isMenuOpen","redirectLink","onClick","onRedirect","redirectText","Header","onMenuOpen","CurrentUserContext","createContext","Card","currentUser","useContext","isLiked","card","likes","some","liked","_id","src","link","alt","name","onCardClick","aria-label","onCardLike","length","owner","onCardDelete","Main","onEditAvatar","avatar","onEditProfile","about","onAddPlace","cards","map","onOpenCard","Footer","currentYear","Date","getFullYear","ImagePopup","isOpen","caption","onClose","PopupWithForm","EditProfilePopup","setName","description","setDescription","isValidName","setIsValidName","isValidDescription","setIsValidDescription","nameValdationMessage","setNameValdationMessage","descriptionValdationMessage","setDescriptionValdationMessage","onUpdateUser","maxLength","EditAvatarPopup","inputRef","useRef","isValidLink","setIsValidLink","linkValdationMessage","setLinkValdationMessage","current","onUpdateAvatar","avatarLink","ref","AddPlacePopup","title","setTitle","setLink","isValidTitle","setIsValidTitle","titleValdationMessage","setTitleValdationMessage","InfoToolTipPopup","isRegistered","api","options","this","_baseUrl","baseUrl","_cohort","cohort","_token","token","res","ok","json","Promise","reject","status","fetch","method","headers","authorization","then","_checkResponse","body","JSON","stringify","cardId","authApi","App","setIsRegistered","isLoggedIn","setIsLoggedIn","setUserInfo","setIsMenuOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isInfoToolTipPopupOpen","setIsInfoToolTipPopupOpen","setCurrentUser","setCards","isCardSelected","setIsCardSelected","selectedCard","setSelectedCard","setIsLoading","history","useHistory","closeAllPopups","localStorage","getItem","getContent","user","data","push","console","log","catch","err","getInitialCards","getUserInfo","Provider","path","register","finally","authorize","setItem","removeItem","changeLikeCardStatus","updatedCard","c","deleteCard","message","filter","updateAvatar","updatedUser","updateProfile","addCard","params","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1a247d25.chunk.js","sourcesContent":["import { Route } from 'react-router-dom';\r\n\r\nfunction ProtectedRoute(props) {\r\n  return (\r\n    <Route>\r\n      {props.children}\r\n    </Route>\r\n  );\r\n}\r\n\r\nexport default ProtectedRoute;","function AuthForm(props) {\r\n  return (\r\n    <div className=\"auth__container\">\r\n      <h2 className=\"auth__header\">{props.header}</h2>\r\n      <form className=\"auth__form\" onSubmit={props.onSubmit} noValidate>\r\n        {props.children}\r\n        <button\r\n          className={`auth__button ${props.isButtonHidden ? 'auth__button_disabled' : ''}`}\r\n          type=\"submit\"\r\n          disabled={props.isButtonHidden}\r\n        >\r\n          {props.isLoading ? 'Загрузка...' : props.buttonText}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AuthForm;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport AuthForm from './AuthForm';\r\n\r\nfunction Register(props) {\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n\r\n  const [isValidEmail, setIsValidEmail] = React.useState(false);\r\n  const [isValidPassword, setIsValidPassword] = React.useState(false);\r\n\r\n  const [emailValdationMessage, setEmailValdationMessage] = React.useState('');\r\n  const [passwordValdationMessage, setPasswordValdationMessage] = React.useState('');\r\n\r\n  const [isFormInvalid, setIsFormInvalid] = React.useState(true);\r\n\r\n  React.useEffect(() => {\r\n    !isValidEmail || !isValidPassword ? setIsFormInvalid(true) : setIsFormInvalid(false);\r\n  }, [isValidEmail, isValidPassword]);\r\n\r\n  function handleEmailInput(evt) {\r\n    const {value, validity: {valid}, validationMessage} = evt.target;\r\n\r\n    setEmail(value);\r\n\r\n    setIsValidEmail(valid);\r\n    setEmailValdationMessage(validationMessage);\r\n  }\r\n\r\n  function handlePasswordInput(evt) {\r\n    const {value, validity: {valid}, validationMessage} = evt.target;\r\n\r\n    setPassword(value);\r\n\r\n    setIsValidPassword(valid);\r\n    setPasswordValdationMessage(validationMessage);\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n\r\n    setEmail('');\r\n    setPassword('');\r\n    \r\n    setIsValidEmail(false);\r\n    setIsValidPassword(false);\r\n\r\n    props.onRegister({\r\n      email: email,\r\n      password: password\r\n    });\r\n  }\r\n\r\n  return (\r\n    <main className=\"auth\">\r\n      <AuthForm\r\n        header=\"Регистрация\"\r\n        buttonText=\"Зарегистрироваться\"\r\n        isButtonHidden={isFormInvalid}\r\n        onSubmit={handleSubmit}\r\n        isLoading={props.isLoading}\r\n      >\r\n        <input\r\n          className=\"auth__input auth__input_content_email\"\r\n          type=\"email\"\r\n          value={email || ''}\r\n          onChange={handleEmailInput}\r\n          placeholder=\"Email\"\r\n          autoComplete=\"off\"\r\n          required\r\n        />\r\n        <span\r\n          className={`auth__input-error ${isValidEmail ? '' : 'auth__input-error_visible'}`}\r\n        >\r\n          {emailValdationMessage}\r\n        </span>\r\n        <input\r\n          className=\"auth__input auth__input_content_password\"\r\n          type=\"password\"\r\n          value={password || ''}\r\n          onChange={handlePasswordInput}\r\n          placeholder=\"Пароль\"\r\n          minLength=\"6\"\r\n          autoComplete=\"off\"\r\n          required\r\n        />\r\n        <span\r\n          className={`auth__input-error ${isValidPassword ? '' : 'auth__input-error_visible'}`}\r\n        >\r\n          {passwordValdationMessage}\r\n        </span>\r\n      </AuthForm>\r\n      <Link className=\"auth__redirect-link\" to=\"/sign-in\">Уже зарегистрированы? Войти</Link>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Register;","import React from 'react';\r\n\r\nimport AuthForm from './AuthForm';\r\n\r\nfunction Login(props) {\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n\r\n  const [isEmptyEmail, setIsEmptyEmail] = React.useState(false);\r\n  const [isEmptyPassword, setIsEmptyPassword] = React.useState(false);\r\n\r\n  function handleEmailInput(evt) {\r\n    setEmail(evt.target.value);\r\n  }\r\n\r\n  function handlePasswordInput(evt) {\r\n    setPassword(evt.target.value);\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n\r\n    if(email === '') return setIsEmptyEmail(true);\r\n    else setIsEmptyEmail(false);\r\n\r\n    if(password === '') return setIsEmptyPassword(true);\r\n    else setIsEmptyPassword(false);\r\n\r\n    props.handleLogin({\r\n      email: email,\r\n      password: password\r\n    });\r\n  }\r\n\r\n  return (\r\n    <main className=\"auth\">\r\n      <AuthForm\r\n        header=\"Вход\"\r\n        buttonText=\"Войти\"\r\n        onSubmit={handleSubmit}\r\n        isLoading={props.isLoading}\r\n      >\r\n        <input\r\n          className=\"auth__input auth__input_content_email\"\r\n          type=\"email\"\r\n          value={email || ''}\r\n          onChange={handleEmailInput}\r\n          placeholder=\"Email\"\r\n          autoComplete=\"off\"\r\n          required\r\n        />\r\n        <span\r\n          className={`auth__input-error ${!isEmptyEmail ? '' : 'auth__input-error_visible'}`}\r\n        >\r\n          Заполните это поле\r\n        </span>\r\n        <input\r\n          className=\"auth__input auth__input_content_password\"\r\n          type=\"password\"\r\n          value={password || ''}\r\n          onChange={handlePasswordInput}\r\n          placeholder=\"Пароль\"\r\n          autoComplete=\"off\"\r\n          required\r\n        />\r\n        <span\r\n          className={`auth__input-error ${!isEmptyPassword ? '' : 'auth__input-error_visible'}`}\r\n        >\r\n          Заполните это поле\r\n        </span>\r\n      </AuthForm>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Login;","import { Link } from 'react-router-dom';\r\n\r\nfunction Menu(props) {\r\n  return (\r\n    <div className={`menu ${props.mode === 'mobile' ? (props.userInfo && props.isMenuOpen ? 'menu__mode_mobile' : 'menu_hidden') : (props.userInfo ? 'menu__mode_desktop' : '')}`}>\r\n      <p className={`menu__info ${props.mode === 'mobile' ? 'menu__info_mode_mobile' : ''}`}>\r\n        {props.userInfo ? props.userInfo.email : ''}\r\n      </p>\r\n      <Link\r\n        className={`menu__link ${props.userInfo ? 'menu__link_color_grey' : ''} ${props.mode === 'mobile' ? 'menu__link_mode_mobile' : ''}`}\r\n        to={props.redirectLink}\r\n        onClick={props.onRedirect}\r\n      >\r\n        {props.redirectText}\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Menu;","import { Link } from 'react-router-dom';\r\n\r\nimport Menu from './Menu';\r\n\r\nfunction Header(props) {\r\n  return (\r\n    <header className={`header page__header ${props.userInfo ? 'header_mode_mobile' : ''}`}>\r\n      <Menu\r\n        mode=\"mobile\"\r\n        redirectLink={props.redirectLink}\r\n        redirectText={props.redirectText}\r\n        onRedirect={props.onRedirect}\r\n        userInfo={props.userInfo}\r\n        isMenuOpen={props.isMenuOpen}\r\n      />\r\n      <Link className=\"header__logo\" to=\"/\" />\r\n      <Menu\r\n        mode=\"desktop\"\r\n        redirectLink={props.redirectLink}\r\n        redirectText={props.redirectText}\r\n        onRedirect={props.onRedirect}\r\n        userInfo={props.userInfo}\r\n      />\r\n      {props.userInfo && \r\n        <button\r\n          className={`header__menu-button ${props.isMenuOpen ? 'header__menu-button_state_pressed' : ''}`}\r\n          type=\"button\"\r\n          onClick={props.onMenuOpen}\r\n        />}\r\n    </header>\r\n  );\r\n}\r\n\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nconst CurrentUserContext = React.createContext();\r\n\r\nexport default CurrentUserContext;","import React from 'react';\r\n\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isLiked = props.card.likes.some(liked => liked._id === currentUser._id);\r\n\r\n  function handleClick() {\r\n    props.onCardClick(props.card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    props.onCardDelete(props.card);\r\n  }\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <img className=\"card__image\" src={props.card.link} alt={props.card.name} onClick={handleClick}/>\r\n      <div className=\"card__content\">\r\n        <h2 className=\"card__title\">{props.card.name}</h2>\r\n        <div>\r\n          <button\r\n            className={`card__like-button ${isLiked ? 'card__like-button_checked' : ''}`}\r\n            type=\"button\"\r\n            aria-label=\"Нравится\"\r\n            onClick={handleLikeClick}\r\n          />\r\n          <p className=\"card__like-counter\">{props.card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n      <button\r\n        className={`card__delete-button ${currentUser._id === props.card.owner._id ? '' : 'card__delete-button_hidden'}`}\r\n        type=\"button\"\r\n        aria-label=\"Удалить\"\r\n        onClick={handleDeleteClick}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\n\r\nimport Card from './Card';\r\n\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nfunction Main(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content page__content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__overlay\" onClick={props.onEditAvatar}>\r\n          <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"Аватар\" />\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n          <button\r\n            className=\"profile__edit-button\"\r\n            type=\"button\"\r\n            aria-label=\"Редактировать\"\r\n            onClick={props.onEditProfile}\r\n          />\r\n          <p className=\"profile__description\">{currentUser.about}</p>\r\n        </div>\r\n        <button\r\n          className=\"profile__add-button\"\r\n          type=\"button\"\r\n          aria-label=\"Добавить\"\r\n          onClick={props.onAddPlace}\r\n        />\r\n      </section>\r\n      <section className=\"cards\" aria-label=\"Карточки мест\">\r\n        <ul className=\"cards__container\">\r\n          {\r\n            props.cards.map((card) => (\r\n              <li key={card._id}>\r\n                <Card\r\n                  card={card}\r\n                  onCardClick={props.onOpenCard}\r\n                  onCardLike={props.onCardLike}\r\n                  onCardDelete={props.onCardDelete}\r\n                />\r\n              </li>\r\n            ))\r\n          };\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;","function Footer() {\r\n  const currentYear = new Date().getFullYear();\r\n\r\n  return (\r\n    <footer className=\"footer page__footer\">\r\n      <p className=\"footer__copyright\">© {currentYear} Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;","import emptyCardPath from '../images/image-empty.png';\r\n\r\nfunction ImagePopup(props) {\r\n  return (\r\n    <div className={`popup popup_mode_image ${props.isOpen ? 'popup_opened' : ''}`}>\r\n      <div className=\"popup__place-container\">\r\n        <figure className=\"popup__place\">\r\n          <img\r\n            className=\"popup__place-image\"\r\n            src={props.card?.link || emptyCardPath}\r\n            alt={props.card?.caption || 'Название места'}\r\n          />\r\n          <figcaption className=\"popup__place-caption\">{props.card?.caption || 'Название места'}</figcaption>\r\n        </figure>\r\n        <button className=\"popup__close-button\" type=\"button\" aria-label=\"Закрыть\" onClick={props.onClose} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAMSURBVBhXY/j//z8ABf4C/qc1gYQAAAAASUVORK5CYII=\"","import React from 'react';\r\n\r\nfunction PopupWithForm(props) {\r\n  return (\r\n    <div className={`popup ${props.isOpen ? 'popup_opened' : ''}`}> \r\n      <div className=\"popup__container\">\r\n        <h2 className=\"popup__header\">{props.header}</h2>\r\n          <form className=\"popup__form\" onSubmit={props.onSubmit} noValidate>\r\n            {props.children}\r\n            <button\r\n              className={`popup__button ${props.isButtonHidden ? 'popup__button_disabled' : ''}`}\r\n              type=\"submit\"\r\n              disabled={props.isButtonHidden}\r\n            >\r\n              {props.isLoading ? 'Сохранение...' : props.buttonText}\r\n            </button>\r\n          </form>\r\n        <button className=\"popup__close-button\" type=\"button\" aria-label=\"Закрыть\" onClick={props.onClose} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\n\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n\r\n  const [isValidName, setIsValidName] = React.useState(true);\r\n  const [isValidDescription, setIsValidDescription] = React.useState(true);\r\n\r\n  const [nameValdationMessage, setNameValdationMessage] = React.useState('');\r\n  const [descriptionValdationMessage, setDescriptionValdationMessage] = React.useState('');\r\n\r\n  const [isFormInvalid, setIsFormInvalid] = React.useState(false);\r\n\r\n  React.useEffect(() => {  \r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n\r\n    setIsValidName(true);\r\n    setIsValidDescription(true);\r\n\r\n    setNameValdationMessage('');\r\n    setDescriptionValdationMessage('');\r\n  }, [props.isOpen, currentUser]);\r\n\r\n  React.useEffect(() => {\r\n    !isValidName || !isValidDescription ? setIsFormInvalid(true) : setIsFormInvalid(false);\r\n  }, [isValidName, isValidDescription]);\r\n\r\n  function handleNameInput(evt) {\r\n    const {value, validity: {valid}, validationMessage} = evt.target;\r\n\r\n    setName(value);\r\n\r\n    setIsValidName(valid);\r\n    setNameValdationMessage(validationMessage);\r\n  }\r\n\r\n  function handleDescriptionInput(evt) {\r\n    const {value, validity: {valid}, validationMessage} = evt.target;\r\n\r\n    setDescription(value);\r\n\r\n    setIsValidDescription(valid);\r\n    setDescriptionValdationMessage(validationMessage);\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n\r\n    props.onUpdateUser({\r\n      name: name,\r\n      description: description\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      header=\"Редактировать профиль\"\r\n      buttonText=\"Сохранить\"\r\n      isButtonHidden={isFormInvalid}\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n      isLoading={props.isLoading}\r\n    >\r\n      <input \r\n        className=\"popup__input popup__input_content_name\"\r\n        type=\"text\"\r\n        value={name || ''}\r\n        onChange={handleNameInput}\r\n        placeholder=\"Имя\"\r\n        minLength=\"2\"\r\n        maxLength=\"40\"\r\n        autoComplete=\"off\"\r\n        required \r\n      />\r\n      <span\r\n        className={`popup__input-error ${isValidName ? '' : 'popup__input-error_visible'}`}\r\n      >\r\n        {nameValdationMessage}\r\n      </span>\r\n      <input\r\n        className=\"popup__input popup__input_content_description\"\r\n        type=\"text\"\r\n        value={description || ''}\r\n        onChange={handleDescriptionInput}\r\n        placeholder=\"О себе\"\r\n        minLength=\"2\"\r\n        maxLength=\"200\"\r\n        autoComplete=\"off\"\r\n        required\r\n      />\r\n      <span\r\n        className={`popup__input-error ${isValidDescription ? '' : 'popup__input-error_visible'}`}\r\n      >\r\n        {descriptionValdationMessage}\r\n      </span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\n\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup(props) { \r\n  const inputRef = React.useRef();\r\n\r\n  const [isValidLink, setIsValidLink] = React.useState(false);\r\n  const [linkValdationMessage, setLinkValdationMessage] = React.useState('');\r\n\r\n  const [isFormInvalid, setIsFormInvalid] = React.useState(true);\r\n\r\n  React.useEffect(() => {\r\n    inputRef.current.value = '';\r\n\r\n    setIsValidLink(true);\r\n    setLinkValdationMessage('');\r\n\r\n    setIsFormInvalid(true);\r\n  }, [props.isOpen]);\r\n\r\n  function handleLinkInput(evt) {\r\n    const {validity: {valid}, validationMessage} = evt.target;\r\n\r\n    setIsValidLink(valid);\r\n    setLinkValdationMessage(validationMessage);\r\n    setIsFormInvalid(!valid);\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n\r\n    props.onUpdateAvatar({\r\n      avatarLink: inputRef.current.value\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      header=\"Обновить аватар\"\r\n      buttonText=\"Сохранить\"\r\n      isButtonHidden={isFormInvalid}\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n      isLoading={props.isLoading}\r\n    >\r\n      <input\r\n        className=\"popup__input popup__input_content_avatar\"\r\n        type=\"url\"\r\n        ref={inputRef}\r\n        onChange={handleLinkInput}\r\n        placeholder=\"Ссылка на аватар\"\r\n        autoComplete=\"off\"\r\n        required\r\n      />\r\n      <span\r\n        className={`popup__input-error ${isValidLink ? '' : 'popup__input-error_visible'}`}\r\n      >\r\n        {linkValdationMessage}\r\n      </span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\n\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup(props) {\r\n  const [title, setTitle] = React.useState('');\r\n  const [link, setLink] = React.useState('');\r\n\r\n  const [isValidTitle, setIsValidTitle] = React.useState(false);\r\n  const [isValidLink, setIsValidLink] = React.useState(false);\r\n\r\n  const [titleValdationMessage, setTitleValdationMessage] = React.useState('');\r\n  const [linkValdationMessage, setLinkValdationMessage] = React.useState('');\r\n\r\n  const [isFormInvalid, setIsFormInvalid] = React.useState(true);\r\n\r\n  React.useEffect(() => {\r\n    setTitle('');\r\n    setLink('');\r\n    \r\n    setIsValidTitle(false);\r\n    setIsValidLink(false);\r\n\r\n    setTitleValdationMessage('');\r\n    setLinkValdationMessage('');\r\n  }, [props.isOpen]);\r\n\r\n  React.useEffect(() => {\r\n    !isValidTitle || !isValidLink ? setIsFormInvalid(true) : setIsFormInvalid(false);\r\n  }, [isValidTitle, isValidLink]);\r\n\r\n  function handleTitleInput(evt) {\r\n    const {value, validity: {valid}, validationMessage} = evt.target;\r\n\r\n    setTitle(value);\r\n\r\n    setIsValidTitle(valid);\r\n    setTitleValdationMessage(validationMessage);\r\n  }\r\n\r\n  function handleLinkInput(evt) {\r\n    const {value, validity: {valid}, validationMessage} = evt.target;\r\n\r\n    setLink(value);\r\n\r\n    setIsValidLink(valid);\r\n    setLinkValdationMessage(validationMessage);\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n\r\n    props.onAddPlace({\r\n      title: title,\r\n      link: link\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      header=\"Новое место\"\r\n      buttonText=\"Создать\"\r\n      isButtonHidden={isFormInvalid}\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n      isLoading={props.isLoading}\r\n    >\r\n      <input\r\n        className=\"popup__input popup__input_content_title\"\r\n        type=\"text\"\r\n        value={title || ''}\r\n        onChange={handleTitleInput}\r\n        placeholder=\"Название\"\r\n        minLength=\"2\"\r\n        maxLength=\"30\"\r\n        autoComplete=\"off\"\r\n        required\r\n      />\r\n      <span\r\n        className={`popup__input-error ${isValidTitle ? '' : 'popup__input-error_visible'}`}\r\n      >\r\n        {titleValdationMessage}\r\n      </span>\r\n      <input\r\n        className=\"popup__input popup__input_content_link\"\r\n        type=\"url\"\r\n        value={link || ''}\r\n        onChange={handleLinkInput}\r\n        placeholder=\"Ссылка на картинку\"\r\n        autoComplete=\"off\"\r\n        required\r\n      />\r\n      <span\r\n        className={`popup__input-error ${isValidLink ? '' : 'popup__input-error_visible'}`}\r\n      >\r\n        {linkValdationMessage}\r\n      </span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;","function InfoToolTipPopup(props) {\r\n  return (\r\n    <div className={`popup ${props.isOpen ? 'popup_opened' : ''}`}>\r\n      <div className=\"popup__container\">\r\n        <div\r\n          className={`popup__image ${props.isRegistered ? 'popup__image_type_success' : 'popup__image_type_failed'}`}\r\n        />\r\n        <h2 className=\"popup__header popup__header_mode_info\">\r\n          {props.isRegistered ? \"Вы успешно зарегистрировались!\" : \"Что-то пошло не так! Попробуйте ещё раз.\"}\r\n        </h2>\r\n        <button className=\"popup__close-button\" type=\"button\" aria-label=\"Закрыть\" onClick={props.onClose} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default InfoToolTipPopup;","class Api {\r\n  constructor(options) {\r\n    this._baseUrl = options.baseUrl;\r\n    this._cohort = options.cohort;\r\n    this._token = options.token;\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    if(res.ok) return res.json();\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._baseUrl}/${this._cohort}/users/me`, {\r\n      method: 'GET',\r\n      headers: {\r\n        authorization: this._token,\r\n        'content-type': 'application/json'\r\n      }\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  updateProfile(name, description) {\r\n    return fetch(`${this._baseUrl}/${this._cohort}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._token,\r\n        'content-type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        name: name,\r\n        about: description\r\n      })\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  updateAvatar(avatar) {\r\n    return fetch(`${this._baseUrl}/${this._cohort}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._token,\r\n        'content-type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: avatar\r\n      })\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}/${this._cohort}/cards`, {\r\n      method: 'GET',\r\n      headers: {\r\n        authorization: this._token,\r\n        'content-type': 'application/json'\r\n      }\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  addCard(name, link) {\r\n    return fetch(`${this._baseUrl}/${this._cohort}/cards`, {\r\n      method: 'POST',\r\n      headers: {\r\n        authorization: this._token,\r\n        'content-type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        name: name,\r\n        link: link\r\n      })\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(`${this._baseUrl}/${this._cohort}/cards/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._token,\r\n        'content-type': 'application/json'\r\n      }\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  changeLikeCardStatus(cardId, method) {\r\n    return fetch(`${this._baseUrl}/${this._cohort}/cards/likes/${cardId}`, {\r\n      method: method,\r\n      headers: {\r\n        authorization: this._token,\r\n        'content-type': 'application/json'\r\n      }\r\n    }).then(this._checkResponse);\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1',\r\n  cohort: 'cohort-21',\r\n  token: 'e0650d2e-cc1d-4b7b-999a-f7cf471dfca5'\r\n});\r\n\r\nexport default api;","class AuthApi {\r\n  constructor(options) {\r\n    this._baseUrl = options.baseUrl;\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    if(res.ok) return res.json();\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n  register({email, password}) {\r\n    return fetch(`${this._baseUrl}/signup`, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json\" \r\n      },\r\n      body: JSON.stringify({\r\n        password: password,\r\n        email: email\r\n      })\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  authorize({password, email}) {\r\n    return fetch(`${this._baseUrl}/signin`, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json\" \r\n      },\r\n      body: JSON.stringify({\r\n        password: password,\r\n        email: email\r\n      })\r\n    }).then(this._checkResponse);\r\n  }\r\n  \r\n  getContent(token) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: 'GET',\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"Authorization\" : `Bearer ${token}`\r\n      }\r\n    }).then(this._checkResponse);\r\n  }\r\n}\r\n\r\nconst authApi = new AuthApi({\r\n  baseUrl: 'https://auth.nomoreparties.co'\r\n});\r\n\r\nexport default authApi;","import React from 'react';\nimport { Route, Redirect, Switch, useHistory } from 'react-router-dom';\n\nimport ProtectedRoute from './ProtectedRoute';\n\nimport Register from './Register';\nimport Login from './Login';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\n\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport InfoToolTipPopup from './InfoToolTipPopup';\n\nimport api from '../utils/api';\nimport authApi from '../utils/authApi';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\n\nfunction App() {\n  const [isRegistered, setIsRegistered] = React.useState(false);\n  const [isLoggedIn, setIsLoggedIn] = React.useState(false);\n  const [userInfo, setUserInfo] = React.useState({});\n\n  const [isMenuOpen, setIsMenuOpen] = React.useState(false);\n\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isInfoToolTipPopupOpen, setIsInfoToolTipPopupOpen] = React.useState(false);\n\n  const [currentUser, setCurrentUser] = React.useState({}); \n\n  const [cards, setCards] = React.useState([]);\n  const [isCardSelected, setIsCardSelected] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n\n  const [isLoading, setIsLoading] = React.useState(false);\n\n  const history = useHistory();\n\n  React.useEffect(() => {\n    const token = localStorage.getItem('token');\n    \n    if(token) {\n      authApi.getContent(token).then(user => {\n        setUserInfo({\n          email: user.data.email\n        });\n        \n        setIsLoggedIn(true);\n        history.push(\"/\");\n        \n        console.log('Авторизация прошла успешно!');\n      }).catch(err => {\n        console.log(`${err}. Не удалось авторизоваться.`);\n      });\n    }\n    \n    return () => setUserInfo({});\n  }, [history]);\n\n  React.useEffect(() => {\n    api.getInitialCards().then(cards => {  \n      setCards(cards);\n    \n      console.log('Карточки получены!');\n    }).catch(err => {\n      console.log(`${err}. Не удалось получить карточки с сервера.`);\n    });\n\n    return () => setCards([]);\n  }, []);\n\n  React.useEffect(() => {\n    api.getUserInfo().then(user => {\n      setCurrentUser(user);\n\n      console.log('Данные профиля получены!');\n    }).catch(err => {\n      console.log(`${err}. Не удалось получить данные о профиле с сервера.`);\n    });\n\n    return () => {\n      setCurrentUser({});\n    };\n  }, []);\n\n  function handleRegister({email, password}) {\n    setIsLoading(true);\n\n    authApi.register({email, password}).then(data => {\n      setIsRegistered(true);\n      history.push(\"/sign-in\");\n\n      console.log('Регистрация прошла успешно! Введите логин и пароль для входа в аккаунт.');\n    }).catch(err => {\n      setIsRegistered(false);\n\n      console.log(`${err}. Не удалось зарегистрироваться. Попробуйте еще раз.`);\n    }).finally(() => {\n      setIsInfoToolTipPopupOpen(true);\n      setIsLoading(false);\n    });\n  }\n\n  function handleLogin({email, password}) {\n    setIsLoading(true);\n    \n    authApi.authorize({email, password}).then(data => {\n      setUserInfo({\n        email: email\n      });\n      \n      setIsLoggedIn(true);\n      history.push(\"/\");\n      localStorage.setItem('token', data.token);\n\n      console.log('Авторизация прошла успешно!');\n    }).catch(err => {\n      console.log(`${err}. Не удалось авторизоваться.`);\n    }).finally(() => {\n      setIsLoading(false);\n    });\n  }\n\n  function handleSignOut() {\n    setIsLoggedIn(false);\n    localStorage.removeItem('token');\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(liked => liked._id === currentUser._id);\n\n    api.changeLikeCardStatus(card._id, isLiked ? 'DELETE' : 'PUT').then(updatedCard => {\n      setCards((cards) => cards.map(c => c._id === card._id ? updatedCard : c));\n      console.log('Состояние лайка изменено!');\n    }).catch(err => {\n      console.log(`${err}. Не удалось изменить состояние лайка.`);\n    });\n  }\n\n  function handleCardClick(card) {\n    setIsCardSelected(true);\n\n    setSelectedCard({\n      caption: card.name,\n      link: card.link\n    });\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card._id).then(message => {\n      setCards((cards) => cards.filter(c => c._id !== card._id));\n      console.log('Карточка успешно удалена!');\n    }).catch(err => {\n      console.log(`${err}. Не удалось удалить карточку с сервера.`);\n    });\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsInfoToolTipPopupOpen(false);\n\n    setIsCardSelected(false);\n    setSelectedCard({});\n  }\n\n  function handleMenuButtonClick() {\n    setIsMenuOpen((isMenuOpen) => !isMenuOpen);\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleUpdateUser({name, description}) {\n    setIsLoading(true);\n\n    api.updateProfile(name, description).then(updatedUser => {\n      setCurrentUser(updatedUser);\n      console.log('Профиль успешно обновлён!');\n      closeAllPopups();\n    }).catch(err => {\n      console.log(`${err}. Не удалось обновить профиль.`);\n    }).finally(() => {\n      setIsLoading(false);\n    }); ;\n  }\n\n  function handleUpdateAvatar({avatarLink}) {\n    setIsLoading(true);\n\n    api.updateAvatar(avatarLink).then(updatedUser => {\n      setCurrentUser(updatedUser);\n      console.log('Аватар успешно обновлён!');\n      closeAllPopups();\n    }).catch(err => {\n      console.log(`${err}. Не удалось обновить аватар.`);\n    }).finally(() => {\n      setIsLoading(false);\n    });  \n  }\n\n  function handleAddPlace({title, link}) {\n    setIsLoading(true);\n\n    api.addCard(title, link).then(params => {\n      setCards([params, ...cards]);\n      console.log('Карточка успешно добавлена!');\n      closeAllPopups();\n    }).catch(err => {\n      console.log(`${err}. Не удалось разместить карточку.`)\n    }).finally(() => {\n      setIsLoading(false);\n    }); ;\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <div className=\"page__container\">\n          <Switch>\n            <Route path=\"/sign-up\">\n              <Header\n                redirectLink=\"/sign-in\"\n                redirectText=\"Войти\"\n              />\n              <Register onRegister={handleRegister} isLoading={isLoading} />\n            </Route>\n            <Route path=\"/sign-in\">\n              <Header\n                redirectLink=\"/sign-up\"\n                redirectText=\"Регистрация\"\n              />\n              <Login handleLogin={handleLogin} isLoading={isLoading} />\n            </Route>\n            {isLoggedIn ? <ProtectedRoute path=\"/\">\n              <Header\n                redirectLink=\"/\"\n                redirectText=\"Выйти\"\n                onRedirect={handleSignOut}\n                userInfo={userInfo}\n                isMenuOpen={isMenuOpen}\n                onMenuOpen={handleMenuButtonClick}\n              />\n              <Main\n                onEditAvatar={handleEditAvatarClick}\n                onEditProfile={handleEditProfileClick}\n                onAddPlace={handleAddPlaceClick}\n                onOpenCard={handleCardClick}\n                onCardLike={handleCardLike}\n                onCardDelete={handleCardDelete}\n                cards={cards}\n              />\n              <Footer />\n            </ProtectedRoute> : <Redirect to=\"/sign-in\" />}\n          </Switch>\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n            isLoading={isLoading}\n          />\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n            isLoading={isLoading}\n          />\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddPlace={handleAddPlace}\n            isLoading={isLoading}\n          />\n          <ImagePopup card={selectedCard} isOpen={isCardSelected} onClose={closeAllPopups} />\n          <InfoToolTipPopup\n            isOpen={isInfoToolTipPopupOpen}\n            onClose={closeAllPopups}\n            isRegistered={isRegistered}\n          />\n        </div> \n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport './index.css';\n\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}