{"version":3,"sources":["components/ProtectedRoute.js","components/AuthForm.js","components/Register.js","components/Login.js","components/Menu.js","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/InfoToolTipPopup.js","utils/api.js","utils/authApi.js","components/App.js","images/image-empty.png","index.js"],"names":["ProtectedRoute","props","isLoggedIn","children","to","AuthForm","className","header","onSubmit","noValidate","isButtonHidden","type","disabled","buttonText","redirectLink","redirectLinkText","Register","React","useState","email","setEmail","password","setPassword","isValidEmail","setIsValidEmail","isValidPassword","setIsValidPassword","emailValdationMessage","setEmailValdationMessage","passwordValdationMessage","setPasswordValdationMessage","setIsButtonHidden","useEffect","evt","preventDefault","onRegister","value","onChange","target","validity","valid","validationMessage","placeholder","autoComplete","required","minLength","Login","isEmptyEmail","setIsEmptyEmail","isEmptyPassword","setIsEmptyPassword","handleLogin","Menu","userInfo","onClick","onRedirect","redirectText","Header","CurrentUserContext","createContext","Card","currentUser","useContext","isLiked","card","likes","some","liked","_id","src","link","alt","name","onCardClick","aria-label","onCardLike","length","owner","onCardDelete","Main","onEditAvatar","avatar","onEditProfile","about","onAddPlace","cards","map","onOpenCard","Footer","ImagePopup","isOpen","hidden","caption","onClose","PopupWithForm","EditProfilePopup","setName","description","setDescription","isValidName","setIsValidName","isValidDescription","setIsValidDescription","nameValdationMessage","setNameValdationMessage","descriptionValdationMessage","setDescriptionValdationMessage","onUpdateUser","maxLength","EditAvatarPopup","inputRef","useRef","isValidLink","setIsValidLink","linkValdationMessage","setLinkValdationMessage","current","onUpdateAvatar","avatarLink","ref","AddPlacePopup","title","setTitle","setLink","isValidTitle","setIsValidTitle","titleValdationMessage","setTitleValdationMessage","InfoToolTipPopup","isRegistered","api","options","this","_baseUrl","baseUrl","_cohort","cohort","_token","token","res","ok","json","Promise","reject","status","fetch","method","headers","authorization","then","_checkResponse","body","JSON","stringify","cardId","authApi","App","setIsRegistered","setIsLoggedIn","setUserInfo","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isInfoToolTipPopupOpen","setIsInfoToolTipPopupOpen","setCurrentUser","emptyCard","setCards","isCardSelected","setIsCardSelected","selectedCard","setSelectedCard","history","useHistory","closeAllPopups","localStorage","getItem","getContent","user","data","push","console","log","catch","err","getInitialCards","getUserInfo","Provider","path","register","finally","authorize","setItem","removeItem","uncheckLike","updatedCard","c","checkLike","deleteCard","message","filter","updateAvatar","updatedUser","updateProfile","addCard","params","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c25d887b.chunk.js","sourcesContent":["import { Route, Redirect } from 'react-router-dom';\r\n\r\nfunction ProtectedRoute(props) {\r\n  return (\r\n    <Route>\r\n      {props.isLoggedIn ? props.children : <Redirect to=\"/sign-in\" />}\r\n    </Route>\r\n  );\r\n}\r\n\r\nexport default ProtectedRoute;","import { Link } from 'react-router-dom';\r\n\r\nfunction AuthForm(props) {\r\n  return (\r\n    <div className=\"auth__container\">\r\n      <h2 className=\"auth__header\">{props.header}</h2>\r\n      <form className=\"auth__form\" onSubmit={props.onSubmit} noValidate>\r\n        {props.children}\r\n        <button\r\n          className={`auth__button${props.isButtonHidden ? ' auth__button_disabled' : ''}`}\r\n          type=\"submit\"\r\n          disabled={props.isButtonHidden}\r\n        >\r\n          {props.buttonText}\r\n        </button>\r\n      </form>\r\n      <Link className=\"auth__redirect-link\" to={props.redirectLink}>{props.redirectLinkText}</Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AuthForm;","import React from 'react';\r\n\r\nimport AuthForm from './AuthForm';\r\n\r\nfunction Register(props) {\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n\r\n  const [isValidEmail, setIsValidEmail] = React.useState(false);\r\n  const [isValidPassword, setIsValidPassword] = React.useState(false);\r\n\r\n  const [emailValdationMessage, setEmailValdationMessage] = React.useState('');\r\n  const [passwordValdationMessage, setPasswordValdationMessage] = React.useState('');\r\n\r\n  const [isButtonHidden, setIsButtonHidden] = React.useState(true);\r\n\r\n  React.useEffect(() => {\r\n    isValidEmail && isValidPassword ? setIsButtonHidden(false) : setIsButtonHidden(true);\r\n  }, [isValidEmail, isValidPassword]);\r\n\r\n  function handleEmailInput(evt) {\r\n    setEmail(evt.target.value);\r\n\r\n    if(evt.target.validity.valid) {\r\n      setIsValidEmail(true);\r\n      setEmailValdationMessage('');\r\n    }\r\n    else {\r\n      setIsValidEmail(false);\r\n      setEmailValdationMessage(evt.target.validationMessage);\r\n    }\r\n  }\r\n\r\n  function handlePasswordInput(evt) {\r\n    setPassword(evt.target.value);\r\n\r\n    if(evt.target.validity.valid) {\r\n      setIsValidPassword(true);\r\n      setPasswordValdationMessage('');\r\n    }\r\n    else {\r\n      setIsValidPassword(false);\r\n      setPasswordValdationMessage(evt.target.validationMessage);\r\n    }\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n\r\n    setEmail('');\r\n    setPassword('');\r\n    \r\n    setIsValidEmail(false);\r\n    setIsValidPassword(false);\r\n\r\n    props.onRegister({\r\n      email: email,\r\n      password: password\r\n    });\r\n  }\r\n\r\n  return (\r\n    <main className=\"auth\">\r\n      <AuthForm\r\n        header=\"Регистрация\"\r\n        buttonText=\"Зарегистрироваться\"\r\n        isButtonHidden={isButtonHidden}\r\n        redirectLink=\"/sign-in\"\r\n        redirectLinkText=\"Уже зарегистрированы? Войти\"\r\n        onSubmit={handleSubmit}\r\n      >\r\n      <input\r\n          className=\"auth__input auth__input_content_email\"\r\n          type=\"email\"\r\n          value={email || ''}\r\n          onChange={handleEmailInput}\r\n          placeholder=\"Email\"\r\n          autoComplete=\"off\"\r\n          required\r\n        />\r\n        <span\r\n          className={`auth__input-error${isValidEmail ? '' : ' auth__input-error_visible'}`}\r\n        >\r\n          {emailValdationMessage}\r\n        </span>\r\n        <input\r\n          className=\"auth__input auth__input_content_password\"\r\n          type=\"password\"\r\n          value={password || ''}\r\n          onChange={handlePasswordInput}\r\n          placeholder=\"Пароль\"\r\n          minLength=\"6\"\r\n          autoComplete=\"off\"\r\n          required\r\n        />\r\n        <span\r\n          className={`auth__input-error${isValidPassword ? '' : ' auth__input-error_visible'}`}\r\n        >\r\n          {passwordValdationMessage}\r\n        </span>\r\n      </AuthForm>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Register;","import React from 'react';\r\n\r\nimport AuthForm from './AuthForm';\r\n\r\nfunction Login(props) {\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n\r\n  const [isEmptyEmail, setIsEmptyEmail] = React.useState(false);\r\n  const [isEmptyPassword, setIsEmptyPassword] = React.useState(false);\r\n\r\n  function handleEmailInput(evt) {\r\n    setEmail(evt.target.value);\r\n  }\r\n\r\n  function handlePasswordInput(evt) {\r\n    setPassword(evt.target.value);\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n\r\n    if(email === '') return setIsEmptyEmail(true);\r\n    else setIsEmptyEmail(false);\r\n\r\n    if(password === '') return setIsEmptyPassword(true);\r\n    else setIsEmptyPassword(false);\r\n\r\n    props.handleLogin({\r\n      email: email,\r\n      password: password\r\n    });\r\n  }\r\n\r\n  return (\r\n    <main className=\"auth\">\r\n      <AuthForm\r\n        header=\"Вход\"\r\n        buttonText=\"Войти\"\r\n        redirectLink=\"\"\r\n        redirectLinkText=\"\"\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <input\r\n          className=\"auth__input auth__input_content_email\"\r\n          type=\"email\"\r\n          value={email || ''}\r\n          onChange={handleEmailInput}\r\n          placeholder=\"Email\"\r\n          autoComplete=\"off\"\r\n          required\r\n        />\r\n        <span\r\n          className={`auth__input-error${!isEmptyEmail ? '' : ' auth__input-error_visible'}`}\r\n        >\r\n          Заполните это поле\r\n        </span>\r\n        <input\r\n          className=\"auth__input auth__input_content_password\"\r\n          type=\"password\"\r\n          value={password || ''}\r\n          onChange={handlePasswordInput}\r\n          placeholder=\"Пароль\"\r\n          autoComplete=\"off\"\r\n          required\r\n        />\r\n        <span\r\n          className={`auth__input-error${!isEmptyPassword ? '' : ' auth__input-error_visible'}`}\r\n        >\r\n          Заполните это поле\r\n        </span>\r\n      </AuthForm>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Login;","import { Link } from 'react-router-dom';\r\n\r\nfunction Menu(props) {\r\n  return (\r\n    <div className=\"menu\">\r\n      <p className=\"menu__info\">{props.userInfo ? props.userInfo.email : \"\"}</p>\r\n      <Link\r\n        className={`menu__link${props.userInfo ? \" menu__link_color_grey\" : \"\"}`}\r\n        to={props.redirectLink}\r\n        onClick={props.onRedirect}\r\n      >\r\n        {props.redirectText}\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Menu;","import { Link } from 'react-router-dom';\r\n\r\nimport Menu from './Menu';\r\n\r\nfunction Header(props) {\r\n  return (\r\n    <header className={`header page__header`}>\r\n      <Link className=\"header__logo\" to=\"/\" />\r\n      <Menu\r\n        redirectLink={props.redirectLink}\r\n        redirectText={props.redirectText}\r\n        onRedirect={props.onRedirect}\r\n        userInfo={props.userInfo}\r\n      />\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nconst CurrentUserContext = React.createContext();\r\n\r\nexport default CurrentUserContext;","import React from 'react';\r\n\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isLiked = props.card.likes.some(liked => liked._id === currentUser._id);\r\n\r\n  function handleClick() {\r\n    props.onCardClick(props.card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    props.onCardDelete(props.card);\r\n  }\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <img className=\"card__image\" src={props.card.link} alt={props.card.name} onClick={handleClick}/>\r\n      <div className=\"card__content\">\r\n        <h2 className=\"card__title\">{props.card.name}</h2>\r\n        <div>\r\n          <button\r\n            className={`card__like-button${isLiked ? ' card__like-button_checked' : ''}`}\r\n            type=\"button\"\r\n            aria-label=\"Нравится\"\r\n            onClick={handleLikeClick}\r\n          />\r\n          <p className=\"card__like-counter\">{props.card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n      <button\r\n        className={`card__delete-button${currentUser._id === props.card.owner._id ? '' : ' card__delete-button_hidden'}`}\r\n        type=\"button\"\r\n        aria-label=\"Удалить\"\r\n        onClick={handleDeleteClick}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\n\r\nimport Card from './Card';\r\n\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nfunction Main(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content page__content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__overlay\" onClick={props.onEditAvatar}>\r\n          <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"Аватар\" />\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n          <button\r\n            className=\"profile__edit-button\"\r\n            type=\"button\"\r\n            aria-label=\"Редактировать\"\r\n            onClick={props.onEditProfile}\r\n          />\r\n          <p className=\"profile__description\">{currentUser.about}</p>\r\n        </div>\r\n        <button\r\n          className=\"profile__add-button\"\r\n          type=\"button\"\r\n          aria-label=\"Добавить\"\r\n          onClick={props.onAddPlace}\r\n        />\r\n      </section>\r\n      <section className=\"cards\" aria-label=\"Карточки мест\">\r\n        <ul className=\"cards__container\">\r\n          {\r\n            props.cards.map((card) => (\r\n              <li key={card._id}>\r\n                <Card\r\n                  card={card}\r\n                  onCardClick={props.onOpenCard}\r\n                  onCardLike={props.onCardLike}\r\n                  onCardDelete={props.onCardDelete}\r\n                />\r\n              </li>\r\n            ))\r\n          };\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;","function Footer() {\r\n  return (\r\n    <footer className=\"footer page__footer\">\r\n      <p className=\"footer__copyright\">© 2020 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;","function ImagePopup(props) {\r\n  return (\r\n    <div className={`popup popup_mode_image${props.isOpen ? ' popup_opened' : ''}`} hidden={true}>\r\n      <div className=\"popup__place-container\">\r\n        <figure className=\"popup__place\">\r\n          <img className=\"popup__place-image\" src={props.card.link} alt={props.card.caption} />\r\n          <figcaption className=\"popup__place-caption\">{props.card.caption}</figcaption>\r\n        </figure>\r\n        <button className=\"popup__close-button\" type=\"button\" aria-label=\"Закрыть\" onClick={props.onClose} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;","import React from 'react';\r\n\r\nfunction PopupWithForm(props) {\r\n  return (\r\n    <div className={`popup${props.isOpen ? \" popup_opened\" : \"\"}`} hidden={true}>\r\n      <div className=\"popup__container\">\r\n        <h2 className=\"popup__header\">{props.header}</h2>\r\n          <form className=\"popup__form\" onSubmit={props.onSubmit} noValidate>\r\n            {props.children}\r\n            <button\r\n              className={`popup__button${props.isButtonHidden ? ' popup__button_disabled' : ''}`}\r\n              type=\"submit\"\r\n              disabled={props.isButtonHidden}\r\n            >\r\n              {props.buttonText}\r\n            </button>\r\n          </form>\r\n        <button className=\"popup__close-button\" type=\"button\" aria-label=\"Закрыть\" onClick={props.onClose} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\n\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n\r\n  const [isValidName, setIsValidName] = React.useState(true);\r\n  const [isValidDescription, setIsValidDescription] = React.useState(true);\r\n\r\n  const [nameValdationMessage, setNameValdationMessage] = React.useState('');\r\n  const [descriptionValdationMessage, setDescriptionValdationMessage] = React.useState('');\r\n\r\n  const [isButtonHidden, setIsButtonHidden] = React.useState(false);\r\n\r\n  React.useEffect(() => {  \r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n\r\n    setIsValidName(true);\r\n    setIsValidDescription(true);\r\n\r\n    setNameValdationMessage('');\r\n    setDescriptionValdationMessage('');\r\n  }, [props.isOpen, currentUser]);\r\n\r\n  React.useEffect(() => {\r\n    isValidName && isValidDescription ? setIsButtonHidden(false) : setIsButtonHidden(true);\r\n  }, [isValidName, isValidDescription]);\r\n\r\n  function handleNameInput(evt) {\r\n    setName(evt.target.value);\r\n\r\n    if(evt.target.validity.valid) {\r\n      setIsValidName(true);\r\n      setNameValdationMessage('');\r\n    }\r\n    else {\r\n      setIsValidName(false);\r\n      setNameValdationMessage(evt.target.validationMessage);\r\n    }\r\n  }\r\n\r\n  function handleDescriptionInput(evt) {\r\n    setDescription(evt.target.value);\r\n\r\n    if(evt.target.validity.valid) {\r\n      setIsValidDescription(true);\r\n      setDescriptionValdationMessage('');\r\n    }\r\n    else {\r\n      setIsValidDescription(false);\r\n      setDescriptionValdationMessage(evt.target.validationMessage);\r\n    }\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n\r\n    props.onUpdateUser({\r\n      name: name,\r\n      description: description\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      header=\"Редактировать профиль\"\r\n      buttonText=\"Сохранить\"\r\n      isButtonHidden={isButtonHidden}\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input \r\n        className=\"popup__input popup__input_content_name\"\r\n        type=\"text\"\r\n        value={name || ''}\r\n        onChange={handleNameInput}\r\n        placeholder=\"Имя\"\r\n        minLength=\"2\"\r\n        maxLength=\"40\"\r\n        autoComplete=\"off\"\r\n        required \r\n      />\r\n      <span\r\n        className={`popup__input-error${isValidName ? '' : ' popup__input-error_visible'}`}\r\n      >\r\n        {nameValdationMessage}\r\n      </span>\r\n      <input\r\n        className=\"popup__input popup__input_content_description\"\r\n        type=\"text\"\r\n        value={description || ''}\r\n        onChange={handleDescriptionInput}\r\n        placeholder=\"О себе\"\r\n        minLength=\"2\"\r\n        maxLength=\"200\"\r\n        autoComplete=\"off\"\r\n        required\r\n      />\r\n      <span\r\n        className={`popup__input-error${isValidDescription ? '' : ' popup__input-error_visible'}`}\r\n      >\r\n        {descriptionValdationMessage}\r\n      </span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\n\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup(props) { \r\n  const inputRef = React.useRef();\r\n\r\n  const [isValidLink, setIsValidLink] = React.useState(false);\r\n  const [linkValdationMessage, setLinkValdationMessage] = React.useState('');\r\n\r\n  const [isButtonHidden, setIsButtonHidden] = React.useState(true);\r\n\r\n  React.useEffect(() => {\r\n    inputRef.current.value = '';\r\n\r\n    setIsValidLink(true);\r\n    setLinkValdationMessage('');\r\n\r\n    setIsButtonHidden(true);\r\n  }, [props.isOpen]);\r\n\r\n  function handleLinkInput(evt) {\r\n    if(evt.target.validity.valid) {\r\n      setIsValidLink(true);\r\n      setLinkValdationMessage('');\r\n      setIsButtonHidden(false);\r\n    }\r\n    else {\r\n      setIsValidLink(false);\r\n      setLinkValdationMessage(inputRef.current.validationMessage);\r\n      setIsButtonHidden(true);\r\n    }\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n\r\n    props.onUpdateAvatar({\r\n      avatarLink: inputRef.current.value\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      header=\"Обновить аватар\"\r\n      buttonText=\"Сохранить\"\r\n      isButtonHidden={isButtonHidden}\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        className=\"popup__input popup__input_content_avatar\"\r\n        type=\"url\"\r\n        ref={inputRef}\r\n        onChange={handleLinkInput}\r\n        placeholder=\"Ссылка на аватар\"\r\n        autoComplete=\"off\"\r\n        required\r\n      />\r\n      <span\r\n        className={`popup__input-error${isValidLink ? '' : ' popup__input-error_visible'}`}\r\n      >\r\n        {linkValdationMessage}\r\n      </span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\n\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup(props) {\r\n  const [title, setTitle] = React.useState('');\r\n  const [link, setLink] = React.useState('');\r\n\r\n  const [isValidTitle, setIsValidTitle] = React.useState(false);\r\n  const [isValidLink, setIsValidLink] = React.useState(false);\r\n\r\n  const [titleValdationMessage, setTitleValdationMessage] = React.useState('');\r\n  const [linkValdationMessage, setLinkValdationMessage] = React.useState('');\r\n\r\n  const [isButtonHidden, setIsButtonHidden] = React.useState(true);\r\n\r\n  React.useEffect(() => {\r\n    setTitle('');\r\n    setLink('');\r\n    \r\n    setIsValidTitle(false);\r\n    setIsValidLink(false);\r\n\r\n    setTitleValdationMessage('');\r\n    setLinkValdationMessage('');\r\n  }, [props.isOpen]);\r\n\r\n  React.useEffect(() => {\r\n    isValidTitle && isValidLink ? setIsButtonHidden(false) : setIsButtonHidden(true);\r\n  }, [isValidTitle, isValidLink]);\r\n\r\n  function handleTitleInput(evt) {\r\n    setTitle(evt.target.value);\r\n\r\n    if(evt.target.validity.valid) {\r\n      setIsValidTitle(true);\r\n      setTitleValdationMessage('');\r\n    }\r\n    else {\r\n      setIsValidTitle(false);\r\n      setTitleValdationMessage(evt.target.validationMessage);\r\n    }\r\n  }\r\n\r\n  function handleLinkInput(evt) {\r\n    setLink(evt.target.value);\r\n\r\n    if(evt.target.validity.valid) {\r\n      setIsValidLink(true);\r\n      setLinkValdationMessage('');\r\n    }\r\n    else {\r\n      setIsValidLink(false);\r\n      setLinkValdationMessage(evt.target.validationMessage);\r\n    }\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n\r\n    props.onAddPlace({\r\n      title: title,\r\n      link: link\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      header=\"Новое место\"\r\n      buttonText=\"Создать\"\r\n      isButtonHidden={isButtonHidden}\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        className=\"popup__input popup__input_content_title\"\r\n        type=\"text\"\r\n        value={title || ''}\r\n        onChange={handleTitleInput}\r\n        placeholder=\"Название\"\r\n        minLength=\"2\"\r\n        maxLength=\"30\"\r\n        autoComplete=\"off\"\r\n        required\r\n      />\r\n      <span\r\n        className={`popup__input-error${isValidTitle ? '' : ' popup__input-error_visible'}`}\r\n      >\r\n        {titleValdationMessage}\r\n      </span>\r\n      <input\r\n        className=\"popup__input popup__input_content_link\"\r\n        type=\"url\"\r\n        value={link || ''}\r\n        onChange={handleLinkInput}\r\n        placeholder=\"Ссылка на картинку\"\r\n        autoComplete=\"off\"\r\n        required\r\n      />\r\n      <span\r\n        className={`popup__input-error${isValidLink ? '' : ' popup__input-error_visible'}`}\r\n      >\r\n        {linkValdationMessage}\r\n      </span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;","function InfoToolTipPopup(props) {\r\n  return (\r\n    <div className={`popup${props.isOpen ? \" popup_opened\" : \"\"}`} hidden={true}>\r\n      <div className=\"popup__container\">\r\n        <div\r\n          className={`popup__image${props.isRegistered ? \" popup__image_type_success\" : \" popup__image_type_failed\"}`}\r\n        />\r\n        <h2 className=\"popup__header popup__header_mode_info\">\r\n          {props.isRegistered ? \"Вы успешно зарегистрировались!\" : \"Что-то пошло не так! Попробуйте ещё раз.\"}\r\n        </h2>\r\n        <button className=\"popup__close-button\" type=\"button\" aria-label=\"Закрыть\" onClick={props.onClose} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default InfoToolTipPopup;","class Api {\r\n  constructor(options) {\r\n    this._baseUrl = options.baseUrl;\r\n    this._cohort = options.cohort;\r\n    this._token = options.token;\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    if(res.ok) return res.json();\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._baseUrl}/${this._cohort}/users/me`, {\r\n      method: 'GET',\r\n      headers: {\r\n        authorization: this._token,\r\n        'content-type': 'application/json'\r\n      }\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  updateProfile(name, description) {\r\n    return fetch(`${this._baseUrl}/${this._cohort}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._token,\r\n        'content-type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        name: name,\r\n        about: description\r\n      })\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  updateAvatar(avatar) {\r\n    return fetch(`${this._baseUrl}/${this._cohort}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._token,\r\n        'content-type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: avatar\r\n      })\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}/${this._cohort}/cards`, {\r\n      method: 'GET',\r\n      headers: {\r\n        authorization: this._token,\r\n        'content-type': 'application/json'\r\n      }\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  addCard(name, link) {\r\n    return fetch(`${this._baseUrl}/${this._cohort}/cards`, {\r\n      method: 'POST',\r\n      headers: {\r\n        authorization: this._token,\r\n        'content-type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        name: name,\r\n        link: link\r\n      })\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(`${this._baseUrl}/${this._cohort}/cards/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._token,\r\n        'content-type': 'application/json'\r\n      }\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  checkLike(cardId) {\r\n    return fetch(`${this._baseUrl}/${this._cohort}/cards/likes/${cardId}`, {\r\n      method: 'PUT',\r\n      headers: {\r\n        authorization: this._token,\r\n        'content-type': 'application/json'\r\n      }\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  uncheckLike(cardId) {\r\n    return fetch(`${this._baseUrl}/${this._cohort}/cards/likes/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._token,\r\n        'content-type': 'application/json'\r\n      }\r\n    }).then(this._checkResponse);\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1',\r\n  cohort: 'cohort-21',\r\n  token: 'e0650d2e-cc1d-4b7b-999a-f7cf471dfca5'\r\n});\r\n\r\nexport default api;","class AuthApi {\r\n  constructor(options) {\r\n    this._baseUrl = options.baseUrl;\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    if(res.ok) return res.json();\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n  register({email, password}) {\r\n    return fetch(`${this._baseUrl}/signup`, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json\" \r\n      },\r\n      body: JSON.stringify({\r\n        password: password,\r\n        email: email\r\n      })\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  authorize({password, email}) {\r\n    return fetch(`${this._baseUrl}/signin`, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json\" \r\n      },\r\n      body: JSON.stringify({\r\n        password: password,\r\n        email: email\r\n      })\r\n    }).then(this._checkResponse);\r\n  }\r\n  \r\n  getContent(token) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: 'GET',\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"Authorization\" : `Bearer ${token}`\r\n      }\r\n    }).then(this._checkResponse);\r\n  }\r\n}\r\n\r\nconst authApi = new AuthApi({\r\n  baseUrl: 'https://auth.nomoreparties.co'\r\n});\r\n\r\nexport default authApi;","import React from 'react';\nimport { Route, Switch, useHistory } from 'react-router-dom';\n\nimport ProtectedRoute from './ProtectedRoute';\n\nimport Register from './Register';\nimport Login from './Login';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\n\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport InfoToolTipPopup from './InfoToolTipPopup';\n\nimport api from '../utils/api';\nimport authApi from '../utils/authApi';\nimport emptyCardPath from '../images/image-empty.png';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\n\nfunction App() {\n  const [isRegistered, setIsRegistered] = React.useState(false);\n  const [isLoggedIn, setIsLoggedIn] = React.useState(false);\n  const [userInfo, setUserInfo] = React.useState({});\n\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isInfoToolTipPopupOpen, setIsInfoToolTipPopupOpen] = React.useState(false);\n\n  const [currentUser, setCurrentUser] = React.useState({}); \n\n  const emptyCard ={\n    name: 'Название места',\n    link: emptyCardPath\n  };\n\n  const [cards, setCards] = React.useState([]);\n  const [isCardSelected, setIsCardSelected] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState(emptyCard);\n\n  const history = useHistory();\n\n  React.useEffect(() => {\n    const token = localStorage.getItem('token');\n    \n    if(token) {\n      authApi.getContent(token).then(user => {\n        setUserInfo({\n          email: user.data.email\n        });\n        \n        setIsLoggedIn(true);\n        history.push(\"/\");\n        \n        console.log('Авторизация прошла успешно!');\n      }).catch(err => {\n        console.log(`${err}. Не удалось авторизоваться.`);\n      });\n    }\n    \n    return () => setUserInfo({});\n  }, [history]);\n\n  React.useEffect(() => {\n    api.getInitialCards().then(cards => {  \n      setCards(cards);\n    \n      console.log('Карточки получены!');\n    }).catch(err => {\n      console.log(`${err}. Не удалось получить карточки с сервера.`);\n    });\n\n    return () => setCards([]);\n  }, []);\n\n  React.useEffect(() => {\n    api.getUserInfo().then(user => {\n      setCurrentUser(user);\n\n      console.log('Данные профиля получены!');\n    }).catch(err => {\n      console.log(`${err}. Не удалось получить данные о профиле с сервера.`);\n    });\n\n    return () => {\n      setCurrentUser({});\n    };\n  }, []);\n\n  function handleRegister({email, password}) {\n    authApi.register({email, password}).then(data => {\n      setIsRegistered(true);\n      history.push(\"/sign-in\");\n\n      console.log('Регистрация прошла успешно! Введите логин и пароль для входа в аккаунт.');\n    }).catch(err => {\n      setIsRegistered(false);\n\n      console.log(`${err}. Не удалось зарегистрироваться. Попробуйте еще раз.`);\n    }).finally(() => {\n      setIsInfoToolTipPopupOpen(true);\n    });\n  }\n\n  function handleLogin({email, password}) {\n    authApi.authorize({email, password}).then(data => {\n      setUserInfo({\n        email: email\n      });\n      \n      setIsLoggedIn(true);\n      history.push(\"/\");\n      localStorage.setItem('token', data.token);\n\n      console.log('Авторизация прошла успешно!');\n    }).catch(err => {\n      console.log(`${err}. Не удалось авторизоваться.`);\n    });\n  }\n\n  function handleSignOut() {\n    setIsLoggedIn(false);\n    localStorage.removeItem('token');\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(liked => liked._id === currentUser._id);\n\n    if(isLiked) {\n      api.uncheckLike(card._id).then(updatedCard => {\n        setCards(cards.map(c => c._id === card._id ? updatedCard : c));\n        console.log('Состояние лайка изменено!');\n      }).catch(err => {\n        console.log(`${err}. Не удалось изменить состояние лайка.`);\n      });\n    }\n    else {\n      api.checkLike(card._id).then(updatedCard => {\n        setCards(cards.map(c => c._id === card._id ? updatedCard : c));\n        console.log('Состояние лайка изменено!');\n      }).catch(err => {\n        console.log(`${err}. Не удалось изменить состояние лайка.`);\n      });\n    }\n  }\n\n  function handleCardClick(card) {\n    setIsCardSelected(true);\n\n    setSelectedCard({\n      caption: card.name,\n      link: card.link\n    });\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card._id).then(message => {\n      setCards(cards.filter(c => c._id !== card._id));\n      console.log('Карточка успешно удалена!');\n    }).catch(err => {\n      console.log(`${err}. Не удалось удалить карточку с сервера.`);\n    });\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsInfoToolTipPopupOpen(false);\n\n    setIsCardSelected(false);\n    setSelectedCard(emptyCard);\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleUpdateUser({name, description}) {\n    api.updateProfile(name, description).then(updatedUser => {\n      setCurrentUser(updatedUser);\n      console.log('Профиль успешно обновлён!');\n      closeAllPopups();\n    }).catch(err => {\n      console.log(`${err}. Не удалось обновить профиль.`);\n    });\n  }\n\n  function handleUpdateAvatar({avatarLink}) {\n    api.updateAvatar(avatarLink).then(updatedUser => {\n      setCurrentUser(updatedUser);\n      console.log('Аватар успешно обновлён!');\n      closeAllPopups();\n    }).catch(err => {\n      console.log(`${err}. Не удалось обновить аватар.`);\n    });  \n  }\n\n  function handleAddPlace({title, link}) {\n    api.addCard(title, link).then(params => {\n      setCards([params, ...cards]);\n      console.log('Карточка успешно добавлена!');\n      closeAllPopups();\n    }).catch(err => {\n      console.log(`${err}. Не удалось разместить карточку.`)\n    });\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <div className=\"page__container\">\n          <Switch>\n            <Route path=\"/sign-up\">\n              <Header\n                redirectLink=\"/sign-in\"\n                redirectText=\"Войти\"\n              />\n              <Register onRegister={handleRegister} />\n            </Route>\n            <Route path=\"/sign-in\">\n              <Header\n                redirectLink=\"/sign-up\"\n                redirectText=\"Регистрация\"\n              />\n              <Login handleLogin={handleLogin} />\n            </Route>\n            <ProtectedRoute path=\"/\" isLoggedIn={isLoggedIn}>\n              <Header\n                redirectLink=\"/\"\n                redirectText=\"Выйти\"\n                onRedirect={handleSignOut}\n                userInfo={userInfo}\n              />\n              <Main\n                onEditAvatar={handleEditAvatarClick}\n                onEditProfile={handleEditProfileClick}\n                onAddPlace={handleAddPlaceClick}\n                onOpenCard={handleCardClick}\n                onCardLike={handleCardLike}\n                onCardDelete={handleCardDelete}\n                cards={cards}\n              />\n              <Footer />\n            </ProtectedRoute>\n          </Switch>\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n          />\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n          />\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddPlace={handleAddPlace}\n          />\n          <ImagePopup card={selectedCard} isOpen={isCardSelected} onClose={closeAllPopups} />\n          <InfoToolTipPopup\n            isOpen={isInfoToolTipPopupOpen}\n            onClose={closeAllPopups}\n            isRegistered={isRegistered}\n          />\n        </div> \n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAMSURBVBhXY/j//z8ABf4C/qc1gYQAAAAASUVORK5CYII=\"","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport './index.css';\n\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}